[pytest]
# Pytest configuration for subagent testing

# Test discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test output
addopts =
    -v
    --tb=short
    --strict-markers
    --color=yes
    -ra

# Asyncio configuration
asyncio_mode = auto

# Timeout configuration (prevents hanging tests)
timeout = 300
timeout_method = thread

# Markers (defined in conftest.py)
markers =
    asyncio: Async test marker for pytest-asyncio
    individual: Individual subagent tests
    validation: Citation validation tests
    parallel: Parallel execution tests
    pipeline: Sequential pipeline tests
    error: Error handling tests
    websocket: WebSocket event tests
    isolation: Thread isolation tests
    tools: Tool access tests
    integration: Integration tests
    performance: Performance tests
    slow: Slow-running tests (>30s)

# Test paths
testpaths = tests

# Coverage
[coverage:run]
source = subagents
omit =
    */tests/*
    */__pycache__/*
    */venv/*
    */.venv/*

[coverage:report]
precision = 2
show_missing = True
